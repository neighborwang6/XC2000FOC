///////////////////////////////////////////////////////////////////////////////
/*


*/
///////////////////////////////////////////////////////////////////////////////
#include "task_man.h"
#include "mcu1_imp.h"
#include "prot_imp.h"
#include "ypara.h"

///////////////////////////////////////////////////////////////////////////////
u16 trans_actuator_num(u8 act_num,u8 act_on_off);
void update_comp_monitor(u16 comp_cmd);
///////////////////////////////////////////////////////////////////////////////
extern MCUMSGDAT mcumsgdat;
extern u8 diag_mode;

// Task info
u8 task_type=TASK_CMD_ACT_NONE;
u8 task_sub_type=0;
u8 task_stat=TASK_STAT_NONE;
u8 task_ctrl_valid=0;

// Used for task
u8 free_cnt0;
u8 free_cnt1;

// Monitor all components: max time (10ms ticks) in "ON" state
// Set component OFF when 1->0
u16 comp_toutx[10]={0,0,0,0,0,0,0,0,0,0};

u8  gmisc_task=TASK_CMD_NONE;
u8  gmisc_task_stat=TASK_STAT_COMPLETE;  // Important to init this value
u8  gmisc_task_option[16];  // RoutineLID,Action,Parameter
u16 gmisc_task_tout=0;

#define GMISC_LID   gmisc_task_option[0]
#define GMISC_ACT   gmisc_task_option[1]
#define GMISC_PARA0 gmisc_task_option[2]
#define GMISC_PARA1 gmisc_task_option[3]

#define YMIN(x,y) (((x)>(y))?(y):(x))
#define YMAX(x,y) (((x)>(y))?(x):(y))

extern u8 dtc_byte[];

///////////////////////////////////////////////////////////////////////////////
//
void do_mcu2_task_init(void)
{
}

///////////////////////////////////////////////////////////////////////////////
//

#define TASK_ID         mcumsgdat.option 
#define TASK_LEN        mcumsgdat.dat[0]
// Bytes after ControlOption
#define TASK_PARA0      mcumsgdat.dat[1]
#define TASK_PARA1      mcumsgdat.dat[2]
#define TASK_PARA2      mcumsgdat.dat[3]

void do_mcu2_task(void)
{

}

///////////////////////////////////////////////////////////////////////////////
//
void do_mcu2_task_10ms_hook(void)
{
}
///////////////////////////////////////////////////////////////////////////////
// Translate the Actuator Table to a dedicated bit
// act_on_off: 0 or 1
u16 trans_actuator_num(u8 act_num,u8 act_on_off)
{
	UNUSED_PARA(act_num);
	UNUSED_PARA(act_on_off);
	
	return 0;
}
///////////////////////////////////////////////////////////////////////////////
//
///////////////////////////////////////////////////////////////////////////////
void update_comp_monitor(u16 comp_cmd)
{
	UNUSED_PARA(comp_cmd);
}
	
///////////////////////////////////////////////////////////////////////////////
//
///////////////////////////////////////////////////////////////////////////////
void do_mcu2_taskx_init(void)
{
}

///////////////////////////////////////////////////////////////////////////////
//
///////////////////////////////////////////////////////////////////////////////
u8 do_mcu2_taskx(void)
{
	
	return 0;
}

///////////////////////////////////////////////////////////////////////////////
//
///////////////////////////////////////////////////////////////////////////////
void do_mcu2_taskx_10ms_hook(void)
{

}

///////////////////////////////////////////////////////////////////////////////
//
///////////////////////////////////////////////////////////////////////////////
